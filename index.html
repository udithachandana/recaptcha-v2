<html>
  <head>
    <title>reCAPTCHA demo: Simple page</title>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script>
        function secondSubmit(){
            $.ajax({
                type: "POST",
                url: "https://test-api-policy.azure-api.net/getfilesubmissionstatus",
                crossDomain: true,
                headers: {
                    "Content-Type": "application/json",
                    "Access-Control-Allow-Credentials": true,
                },
                success: function (response) {
                    console.log(response);
                }
            });
        }

        function onSubmit(token) {
     
            /*$.ajax({
            type: "POST",
            url: "https://www.google.com/recaptcha/api/siteverify",
            headers: {
                'g-recaptcha-response':token,
                'Content-Type':'application/json'
            },
            data: {'secret':'6LfBi9cnAAAAALqUcYcHsfeyR2qRrX2jHX-LDSAr','response':token},
            success: function (response) {
                //service.php response
                console.log(response);


            }*/

          //document.getElementById("demo-form").submit();
          $.ajax({
            type: "POST",
            url: "https://test-api-policy.azure-api.net/searchorganisation",
            crossDomain: true,
            headers: {
                'g-recaptcha-response':token,
                "Access-Control-Allow-Credentials": true
            },
            success: function (response) {
                console.log(response);
            }
          });
        }
      </script>
  </head>
  <body>
    <br /><br />
    <button class="g-recaptcha" data-sitekey="6LfBi9cnAAAAAJqSBdNeH-oTElJ6LPv_Ar_OnfPd" data-callback="onSubmit">Submit1</button>
    <br />
    <button onclick="secondSubmit()">Submit2</button>
    <br/>
  </body>
</html>